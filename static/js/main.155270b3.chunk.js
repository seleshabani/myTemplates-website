(this.webpackJsonpmytemplates=this.webpackJsonpmytemplates||[]).push([[0],{79:function(e,n,t){"use strict";t.r(n);var c,i,r,a,o,s,d,l,b,p,u,h,x,j,f,m,O,w,g,v,y,k,S,R,_,C=t(0),L=t(28),q=t.n(L),T=t(27),I=t(2),z=t(3),N=z.b.footer(c||(c=Object(I.a)(["\n    margin-top: 20px;\n    padding-bottom: 20px;\n"]))),P=t(1),A=function(){return Object(P.jsx)(N,{children:Object(P.jsx)("div",{children:Object(P.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://seleshabani.github.io/html_Templates/portfolio_v5",children:"\xa9Sele Shabani \xb72021"})})})},E=t(23),M="https://thawing-river-56749.herokuapp.com/api/",F="https://thawing-river-56749.herokuapp.com/public/",J="/myTemplates-website",U=t(50),D=t(6),H=z.b.div(i||(i=Object(I.a)(["\n    width: 30%;\n    @media(max-width:800px){\n        width:100%;\n    }\n"]))),W=z.b.div(r||(r=Object(I.a)(["\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n"]))),X=z.b.div(a||(a=Object(I.a)(["\n    width: 70%;\n"]))),Y=function(){var e=Object(U.a)(),n=e.register,t=e.handleSubmit,c=Object(D.useHistory)();return Object(P.jsx)(H,{children:Object(P.jsx)("form",{onSubmit:t((function(e){c.push("".concat(J,"/search/").concat(e.query))})),children:Object(P.jsxs)(W,{children:[Object(P.jsx)(X,{children:Object(P.jsx)("input",{type:"text",name:"query",ref:n})}),Object(P.jsx)("div",{children:Object(P.jsx)("button",{children:"Rechercher"})})]})})})},B=z.b.header(o||(o=Object(I.a)(["\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    align-content: center;\n\n    @media(max-width:800px){\n    flex-direction: column;\n    & .brand{\n        width: 100%;\n    }\n"]))),G=function(){return Object(P.jsxs)(B,{children:[Object(P.jsx)("div",{className:"brand",children:Object(P.jsxs)("h2",{children:["Templates by ",Object(P.jsx)(E.b,{to:"".concat(J),children:"Sele Shabani"})]})}),Object(P.jsx)(Y,{})]})},K=t(12),Q=t(8),V=t(4),Z=t.n(V),$=t(7),ee=t(18),ne=t.n(ee),te="fecth_multiple",ce="fech multiple error",ie="fetch one item",re=function(e){return function(){var n=Object($.a)(Z.a.mark((function n(t){var c;return Z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ne.a.get(M+"items/".concat(e));case 3:c=n.sent,t({type:ie,payload:c.data}),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0),t({type:ce,payload:n.t0});case 11:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},ae=t(24),oe=function(e){return function(){var n=Object($.a)(Z.a.mark((function n(t){var c,i;return Z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,(c=new URLSearchParams).append("itemId",e),n.next=5,ne.a.post("".concat(M,"likes"),c);case 5:i=n.sent,t({type:"",payload:{isLiked:!0,color:"tomato",likeInfo:i.data}}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},se=function(e){return function(){var n=Object($.a)(Z.a.mark((function n(t){var c;return Z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ne.a.get("".concat(M,"likes/").concat(e));case 3:c=n.sent,t({type:"",payload:{isLiked:!1,color:"whitesmoke",likeInfo:c.data}}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},de=z.b.div(s||(s=Object(I.a)(["\n    position:fixed;\n    top:0;\n    left:0;\n    right:0;\n    bottom:0;\n    width:100%;\n    height:100%;\n    background:rgba(0,0,0,0.2);\n    display:flex;\n    justify-content:center;\n    align-items:center;\n    align-content:center;\n    visibility:",";\n    \n"])),(function(e){return e.visible?"visible":"hidden"})),le=z.b.div(d||(d=Object(I.a)(["\n    width:70%;\n    height:80%;\n    overflow-y:scroll;\n    border: solid 2px whitesmoke;\n    box-shadow: 2px 5px 10px rgba(0, 0, 0, 0.3);\n    padding:20px;\n    background:rgba(0,0,0,0.9);\n    color:whitesmoke;\n    @media(max-width:800px){\n        padding:10px;\n        width:88%;\n    }\n"]))),be=z.b.div(l||(l=Object(I.a)(["\n    width:100%;\n    display:flex;\n    flex-direction:row;\n    justify-content:space-between;\n    & h1{\n        width:60%;\n        text-transform: capitalize;\n    }\n\n    & div{\n        width:5%;\n        cursor:pointer;\n    }\n"]))),pe=z.b.div(b||(b=Object(I.a)(["\n    width:100%;\n    display:flex;\n    flex-direction:row;\n    align-items:flex-start;\n    justify-content:space-between;\n    @media(max-width:800px){\n        flex-direction: column;\n        gap:1rem;\n    }\n"]))),ue=z.b.div(p||(p=Object(I.a)(["\n    border-radius:5px;\n    overflow:hidden;\n    width:90%;\n    height:80%\n    & img{\n        height:100%;\n        width:100%;\n    }\n"]))),he=z.b.div(u||(u=Object(I.a)(["\n    width:5%;\n    display:flex;\n    flex-direction:column;\n    gap:1rem;\n"]))),xe=z.b.div(h||(h=Object(I.a)(["\n    width:100%;\n    padding:8px;\n    display:flex;\n    justify-content:center;\n    align-items:center;\n    align-content:center;\n    background:rgba(0,0,0,0.6);\n    font-size:1.3rem;\n    color: ",";\n    cursor:pointer;\n"])),(function(e){return e.color})),je=function(e){var n=e.visible,t=e.onClick,c=e.id,i=Object(Q.b)(),r=Object(Q.c)((function(e){return e.oneItemReducer})),a=Object(Q.c)((function(e){return e.likeReducer}));Object(ae.useEffect)((function(){var e;0!==c&&(i(re(c)),i((e=c,function(){var n=Object($.a)(Z.a.mark((function n(t){var c;return Z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ne.a.get("".concat(M,"likes/").concat(e,"/isliked"));case 3:c=n.sent,t({type:"",payload:{isLiked:c.data,color:!0===c.data?"tomato":"whitesmoke"}}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}())))}),[c]);var o=function(){var e=Object($.a)(Z.a.mark((function e(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!1===a.isLiked?i(oe(r._id)):i(se(r._id));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(P.jsx)(de,{visible:n,children:function(e){if(0!==e)return Object(P.jsxs)(le,{children:[Object(P.jsxs)(be,{children:[Object(P.jsx)("h1",{children:r.name}),Object(P.jsx)(xe,{onClick:t,children:"X"})]}),Object(P.jsx)("h2",{children:Object(P.jsx)("a",{href:r.linkPreview,target:"_blank",rel:"noopener noreferrer",children:"Live Preview"})}),Object(P.jsxs)(pe,{children:[Object(P.jsx)(ue,{children:Object(P.jsx)(E.b,{to:"".concat(J,"/templates/").concat(r._id),children:Object(P.jsx)("img",{src:"".concat(F).concat(r.screen),alt:"capture d'\xe9cran ".concat(r.name)})})}),Object(P.jsx)(he,{children:Object(P.jsx)(xe,{color:a.color,onClick:o,children:Object(P.jsx)("i",{className:"fa fa-heart"})})})]})]})}(c)})},fe=z.b.div(x||(x=Object(I.a)(["\n    width: 30%;\n    height: max-content;\n    border: solid 2px whitesmoke;\n    box-shadow: 2px 5px 10px rgba(0, 0, 0, 0.3);\n    overflow: hidden;\n    transition: all 300ms;\n    object-fit:cover;\n    cursor:pointer;\n\n    &:hover{\n        transform: translateY(5px);\n    }\n    @media(max-width:800px){\n        width: 100%;\n    }\n"]))),me=function(e){var n=e.onClick,t=(e.name,e.link,e.img);e.id;return Object(P.jsx)(fe,{onClick:n,children:Object(P.jsx)("img",{src:"".concat(F).concat(t),alt:""})})},Oe=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Array.isArray(e)&&e.length>=1?e.map((function(e,t){return Object(P.jsx)(me,{id:e._id,onClick:function(t){return n(t,e)},name:e.name,link:e.linkPreview,img:e.screen},t)})):Object(P.jsx)("h1",{children:!1===t?"Aucun template n'est disponible pour l'instant":"Aucun r\xe9sultat pour votre r\xe9cherche"})},we=z.b.div(j||(j=Object(I.a)(["\n    width:100%;\n    display:flex;\n    flex-direction:column;\n    gap:1rem;\n    @media(max-width:800px){\n        width:100%;\n    }\n"]))),ge=z.b.div(f||(f=Object(I.a)(["\n    width: 100%;\n    padding-top: 20px;\n    padding-bottom: 10px;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    gap: 1em;\n    justify-content: space-between;\n    align-items: center;\n    align-content: center;\n    @media(max-width:800px){\n        flex-direction: column;\n    }\n"]))),ve=z.b.div(m||(m=Object(I.a)(["\n    width:100%;\n    & button{\n        width:100%;\n        padding:10px;\n    }\n\n"]))),ye=function(){var e=Object(C.useState)(!1),n=Object(K.a)(e,2),t=n[0],c=n[1],i=Object(C.useState)({page:1,limit:4}),r=Object(K.a)(i,2),a=r[0],o=r[1],s=Object(C.useState)(0),d=Object(K.a)(s,2),l=d[0],b=d[1],p=Object(Q.b)(),u=Object(Q.c)((function(e){return e.itemReducer}));Object(C.useEffect)((function(){var e;p((e=a,function(){var n=Object($.a)(Z.a.mark((function n(t){var c;return Z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ne.a.get("".concat(M,"items?page=").concat(e.page,"&limit=").concat(e.limit));case 3:c=n.sent,t({type:te,payload:c.data}),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0),t({type:ce,payload:n.t0});case 11:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}())),window.document.querySelector("title").text="MyTemplates"}),[a]);return Object(P.jsxs)(we,{children:[Object(P.jsx)(ge,{children:Oe(u.results,(function(e,n){b(n._id),c(!t)}))}),Object(P.jsx)(ve,{children:Object(P.jsx)("button",{onClick:function(){u.next?o(u.next):o({page:1,limit:a.limit})},children:u.next?"voir plus":"voir moins"})}),Object(P.jsx)(je,{id:l,visible:t,onClick:function(){c(!1)}})]})},ke=z.b.div(O||(O=Object(I.a)(["\n    width:100%;\n    display:flex;\n    flex-direction:row;\n    gap:1rem;\n    align-items:flex-start;\n"]))),Se=z.b.div(w||(w=Object(I.a)(["\n    width:70%;\n    display:flex;\n    flex-direction:row;\n    gap:.5rem;\n"]))),Re=function(e){var n=e.match.params.query,t=Object(Q.b)(),c=Object(Q.c)((function(e){return e.itemReducer})),i=Object(C.useState)(!1),r=Object(K.a)(i,2),a=r[0],o=r[1],s=Object(C.useState)(0),d=Object(K.a)(s,2),l=d[0],b=d[1];Object(ae.useEffect)((function(){var e,i;window.document.querySelector("title").text="MyTemplates | Recherche | ".concat(n),t((e=n,i={page:1,limit:3},function(){var n=Object($.a)(Z.a.mark((function n(t){var c;return Z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ne.a.get(M+"items/search/".concat(e,"?page=").concat(i.page,"&limit=").concat(i.limit));case 3:c=n.sent,t({type:te,payload:c.data}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}())),console.log(c)}),[n]);return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("h1",{children:["R\xe9sultat de Recherche pour : ",n]}),Object(P.jsx)(ke,{children:Object(P.jsx)(Se,{children:Oe(c.results,(function(e,n){b(n._id),o(!a)}),!0)})}),Object(P.jsx)(je,{id:l,visible:a,onClick:function(){o(!1)}})]})},_e=z.b.div(g||(g=Object(I.a)(["\n    width:100%;\n    display:flex;\n    flex-direction:row;\n    align-items:flex-start;\n    justify-content:space-between;\n    @media(max-width:800px){\n        flex-direction: column;\n        gap:1rem;\n    }\n"]))),Ce=z.b.div(v||(v=Object(I.a)(["\n    width:70%;\n    display:flex;\n    flex-direction:column;\n    gap:1rem;\n    border-radius:5px;\n    overflow:hidden;\n    & img{\n        width:100%;\n        display:inline-block;\n    }\n    @media(max-width:800px){\n       width:100%;\n    }\n"]))),Le=z.b.div(y||(y=Object(I.a)(["\n    width:100%;\n    padding:5px;\n    display:flex;\n    flex-direction:row;\n    justify-content:space-between;\n    align-items:flex-start;\n"]))),qe=z.b.div(k||(k=Object(I.a)(["\n    width:70%;\n    display:flex;\n    flex-direction:row;\n    padding:5px;\n"]))),Te=z.b.div(S||(S=Object(I.a)(["\n    width:40px;\n    height:40px;\n    border-radius:50%;\n    padding:5px;\n    display:flex;\n    justify-content:center;\n    align-items:center;\n    /* border:solid 1px whitesmoke; */\n    color:whitesmoke;\n    background-color: rgb(179, 197, 206);\n    box-shadow: 2px 5px 10px rgba(0, 0, 0, 0.3);\n    cursor:pointer;\n    margin-right:15px;\n"]))),Ie=z.b.div(R||(R=Object(I.a)(["\n    width:25%;\n    display:flex;\n    flex-direction:row;\n"]))),ze=z.b.div(_||(_=Object(I.a)(["\n    width:80px;\n    height:35px;\n    padding:5px;\n    display:flex;\n    justify-content:center;\n    align-items:center;\n    color:whitesmoke;\n    background-color: rgb(179, 197, 206);\n    box-shadow: 2px 5px 10px rgba(0, 0, 0, 0.3);\n    border-radius:5px;\n    cursor:pointer;\n    margin-right:10px;\n"]))),Ne=function(e){var n=Object(Q.b)(),t=Object(Q.c)((function(e){return e.oneItemReducer})),c=e.match.params.id;return Object(ae.useEffect)((function(){n(re(c)),window.document.querySelector("title").text="MyTemplates | ".concat(t.name)}),[c]),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("h1",{children:t.name}),Object(P.jsx)(_e,{children:Object(P.jsxs)(Ce,{children:[Object(P.jsx)("img",{src:"".concat(F).concat(t.screen),alt:"capture d'\xe9cran ".concat(t.name)}),Object(P.jsxs)(Le,{children:[Object(P.jsxs)(qe,{children:[Object(P.jsx)(Te,{children:Object(P.jsx)("i",{className:"fa fa-facebook"})}),Object(P.jsx)(Te,{children:Object(P.jsx)("i",{className:"fa fa-twitter"})})]}),Object(P.jsxs)(Ie,{children:[Object(P.jsx)(ze,{children:Object(P.jsx)("i",{className:"fa fa-download"})}),Object(P.jsx)(ze,{children:Object(P.jsx)("h6",{children:Object(P.jsx)("a",{href:t.linkPreview,target:"_blank",rel:"noopener noreferrer",children:"Live preview"})})})]})]})]})})]})};var Pe,Ae=function(){return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("main",{children:[Object(P.jsx)(G,{}),Object(P.jsxs)(T.Switch,{children:[Object(P.jsx)(T.Route,{exact:!0,path:"".concat(J),component:ye}),Object(P.jsx)(T.Route,{exact:!0,path:"".concat(J,"/templates/:id"),component:Ne}),Object(P.jsx)(T.Route,{exact:!0,path:"".concat(J,"/search/:query"),component:Re})]})]}),Object(P.jsx)(A,{})]})},Ee=t(16),Me=t(48),Fe=t(49),Je=t(21),Ue={},De={isLiked:!1},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case te:return Object(Je.a)({},n.payload);case ce:return{msg:"Une erreur est survenue",payload:n.payload};default:return e}},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case ie:return Object(Je.a)({},n.payload);default:return e}},Xe={isLiked:!1,color:"whitesmoke"},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"":case"":return Object(Je.a)({},n.payload);default:return e}},Be=Object(Ee.combineReducers)({itemReducer:He,oneItemReducer:We,likeReducer:Ye}),Ge=Object(Ee.createStore)(Be,Object(Fe.composeWithDevTools)(Object(Ee.applyMiddleware)(Me.a))),Ke=Object(z.a)(Pe||(Pe=Object(I.a)(["\nhtml{\n    box-sizing: border-box;\n}\nbody{\n    padding: 0;\n    margin: 0;\n    background-color: rgb(179, 197, 206);\n}\nbody #root{\n    /* position: relative; */\n    width:100%;\n    height:100%;\n    display: flex;\n    flex-direction: column;\n    align-content: center;\n    align-items: center;\n    justify-content: center;\n}\n*,*::after,*::before{\n   box-sizing: inherit; \n}\n* img{\n    width: 100%;\n    height: auto;\n    aspect-ratio: 16/9;\n}\nh1{\n    text-transform:capitalize;\n}\ninput{\n    width: 100%;\n    border: none;\n    border-radius: 5px;\n    outline: none;\n    border: solid 2px whitesmoke;\n    box-shadow: 2px 5px 10px rgba(0, 0, 0, 0.3);\n    padding: 5px;\n}\nbutton{\n    padding: 5px;\n    color: whitesmoke;\n    background-color: rgb(179, 197, 206);\n    border-radius: 5px;\n    border: solid 2px whitesmoke;\n    box-shadow: 2px 5px 10px rgba(0, 0, 0, 0.3);\n    cursor: pointer;\n    outline:none;\n}\nmain{\n   width: 90%;\n}\n"])));q.a.render(Object(P.jsx)(E.a,{children:Object(P.jsxs)(Q.a,{store:Ge,children:[Object(P.jsx)(Ke,{}),Object(P.jsx)(Ae,{})]})}),document.querySelector("#root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.155270b3.chunk.js.map